((w,x,L)=>{'use strict';let $;const e=()=>{let c,g=0<x.location.href.indexOf('?')?'&':'?';if($=jQuery,g=x.location.href.replace(x.location.hash,'').replace('#','')+g+'tb-preview=1&ver='+w.v,!x.wp||!wp.customize){let n=L.tfClass('themify_builder_content'),e=L.tfClass('toggle_tb_builder')[0],d=!1;c=!!e&&e.tfClass('tb_front_icon')[0].dataset.id;for(let s=n.length-1;-1<s;--s){let i=n[s].dataset.postid,l=L.createElement('a'),a=L.createElement('span'),o=L.createElement('span'),r=n[s].dataset.label||n[s].parentNode.dataset.label;if('disabled'!==r){l.href='javascript:;',l.className='tb_turn_on js-turn-on-builder',a.className='dashicons dashicons-edit',a.dataset.id=i,o.innerHTML=r||tbLoaderVars.turnOnBuilder,l.append(a,o);let e=L.tfClass('tf_edit_post_'+i)[0],t=e?e.nextElementSibling:null;!e||t&&t.classList.contains('tb_turn_on')?n[s].insertAdjacentElement(r?'beforeBegin':'afterEnd',l):e.before(l),i===c&&(d=!0)}}if(!e&&!(e=L.tfClass('js-turn-on-builder')[0])){const t=L.tfClass('dashicons-edit')[0];c=t?t.dataset.id:null}e&&(!1===d&&(c=null),e.classList.toggle('tb_disabled_turn_on',!c))}if(!L.body.dataset.tbAttached){const v=e=>{const t=e.target,o=!t||'#'!==t.getAttribute('href')&&t.href?null:t.closest('.js-turn-on-builder,.toggle_tb_builder');if(o&&!o.closest('.tb_disabled_turn_on')&&(t.closest('.js-turn-on-builder')||!o.classList.contains('toggle_tb_builder')||!t.href||t.parentNode.classList.contains('toggle_tb_builder'))&&(e.preventDefault(),e.stopPropagation(),'undefined'==typeof ThemifyStyles||!0!==ThemifyStyles.isWorking)){const f=o.classList.contains('js-turn-on-builder')?o.childNodes[0].dataset.id:c;if(f){L.body.tfOff(e.type,v),w.lazyDisable=w.lazyScrolling=!0,null!==w.observer&&w.observer.disconnect(),w.events.clear(),w.cssLazy.clear();let n={},d=[],a=x.scrollY,c=w.convert(L.tfTag('link')).concat(w.convert(L.tfTag('style'))),l;const _=w.body.children(),m=L.createElement('div'),i=L.createElement('div'),b=L.createElement('div'),r=L.createElement('div'),s=L.createElement('div'),u=L.createElement('div'),p=L.createElement('iframe'),h=L.body,y=new Date;if(null!==tbLoaderVars.styles)for(let i in tbLoaderVars.styles)if(''!==tbLoaderVars.styles[i]){let e=-1!==i.indexOf('base.min.css')?'tf_base-css':-1!==i.indexOf('lightbox.css')?'themify-builder-lightbox-css':null,t=w.loadCss(i,e,tbLoaderVars.styles[i]);e&&(l=t),d.push(t),n[i+'?ver='+tbLoaderVars.styles[i]]=1}w.fetch({action:'tb_load_editor'},'text').then(e=>{const t=L.createElement('div'),l={},a={},o=L.createDocumentFragment(),r=(L.createDocumentFragment(),L.body),s=function(){l[this.src]=!0,this.tfOff('load error',s,{once:!0,passive:!0});for(let e in a)if(!0!==l[e])return!1;const i=L.createDocumentFragment();for(let e=0,t=d.length;e<t;++e)i.appendChild(d[e]);if(r.appendChild(i),x.tinymce&&tinyMCE){const e=tinyMCEPreInit.mceInit.tb_lb_hidden_editor,t=(e.schema='html5',e.element_format='html',e.wp_autoresize_on=e.ie7_compat=!1,e.plugins='charmap,colorpicker,hr,lists,media,paste,tabfocus,textcolor,fullscreen,wordpress,wpautoresize,wpeditimage,wpemoji,wpgallery,wpdialogs,wptextpattern,wpview,wplink',e.indent='simple',e.root_name='div',e.relative_urls=!0,tinyMCE.execCommand('mceRemoveEditor',!0,'tb_lb_hidden_editor'),L.querySelectorAll('#wp-tb_lb_hidden_editor-editor-container,#wp-tb_lb_hidden_editor-editor-tools'));for(let e=t.length-1;-1<e;--e)t[e].remove();wp.editor.getDefaultSettings||(wp.editor.getDefaultSettings=()=>({tinymce:tinyMCEPreInit.mceInit.tb_lb_hidden_editor,quicktags:{buttons:'strong,em,link,ul,ol,li,code'}}))}!0!==w.editorLoaded&&$.ui&&$.fn.mouse&&$.fn.sortable&&(w.editorLoaded=!0,w.trigger('tb_load_iframe'))},n=(t.innerHTML=e,t.querySelector('#tb_tinymce_wrap').children),d=[];for(let e=0,t=n.length;e<t;++e)if('SCRIPT'!==n[0].tagName||n[0].type&&'text/javascript'!==n[0].type)o.appendChild(n[0]);else{let i=L.createElement('script');for(let e=n[0].attributes,t=e.length-1;-1<t;--t)i.setAttribute(e[t].name,e[t].value);let e=n[0].src;if(e)void 0===a[e]&&-1===e.indexOf('themify/js/main')&&null===L.querySelector('script[src="'+e+'"]')&&(i.async=!1,a[e]=!0,i.tfOn('load error',s,{once:!0,passive:!0}),o.appendChild(i));else{let e=n[0].id;if(!e||-1===e.indexOf('themify-main-script')){let e=n[0].innerHTML;-1===(i.innerHTML=e).indexOf('tinyMCEPreInit.')&&-1===e.indexOf('.addI18n')&&-1===e.indexOf('.i18n')&&-1===e.indexOf('wp.editor')?o.appendChild(i):d.push(i)}}n[0].remove()}try{r.appendChild(o)}catch(e){console.log(e)}}),b.className='tb_workspace_container tf_w tf_h tf_hidden tf_opacity',r.className='tb_vertical_bars tf_rel tf_h tf_w',s.id='tb_left_bar',u.id='tb_right_bar',s.className=u.className='tb_middle_bar tf_h tf_rel tf_hide',p.className='tb_iframe tf_w tf_h',p.id=p.name='tb_iframe',p.scrolling='yes',p.src=g+'&tb-id='+f,w.off('builder_load_module_partial tf_music_ajax_ready'),$(L).off('ajaxComplete'),m.className='tb_loader tf_loader tf_abs_c tf_box',i.id='tb_fixed_bottom_scroll',i.className='tb_fixed_scroll',h.prepend(i),r.append(s,p,u),b.appendChild(r),p.tfOn('load',function(){let r=this.contentWindow,s;w.on('themify_builder_ready',()=>{Promise.all(d).then(()=>{m.classList.remove('tf_hide'),m.tfOn('transitionend',function(){this.classList.remove('tf_opacity'),this.classList.add('tf_hide')},{passive:!0,once:!0}).classList.add('tf_opacity');const e=h.classList,t=e.contains('archive');let i='themify_builder_active builder-breakpoint-desktop';t&&(i+=' archive'),'1'===tbLoaderVars.isGlobalStylePost&&(i+=' gs_post'),e.contains('tb_panel_docked')&&(i=(i+=' tb_panel_docked')+(e.contains('tb_panel_left_dock')?' tb_panel_left_dock':' tb_panel_right_dock')),h.className=i,h.removeAttribute('style'),b.classList.remove('tf_hidden','tf_opacity');const l=r.tb_app.Builder.get().el.offsetTop;l>a&&(a=l),r.scrollTo(0,a),w.is_builder_active=!0,setTimeout(()=>{_.hide();for(let i=c.length-1;-1<i;--i)if(c[i]&&c[i].parentNode){let e=c[i].href,t=c[i].id;e?n[e]||-1!==e.indexOf('themify.builder.loader')||-1!==e.indexOf('wp-includes')||-1!==e.indexOf('admin-bar')||-1!==e.indexOf('themify-builder/css/editor/modules')||c[i].remove():'tf_fonts_style'!==t&&'tf_lazy_common'!==t&&c[i].remove()}c=n=d=tbLoaderVars=null,$('.themify_builder_content,#wpadminbar,header').remove(),_.filter('ul,a,video,audio').filter(':not(:has(link))').remove();const t=['scroll','tfsmartresize','debouncedresize','throttledresize','resize','mouseenter','keydown','keyup','mousedown','mouseup','mouseleave','mousemove','assignVideo'],i=$(x),l=$(L),a=$(h);for(let e=t.length-1;-1<e;--e)i.off(t[e]),l.off(t[e]),a.off(t[e]);L.documentElement.removeAttribute('style'),L.documentElement.removeAttribute('class');let o=r.document;setTimeout(()=>{setTimeout(()=>{const t=['ThemifyBuilderModuleJs','c','_wpemojiSettings','twemoji','themifyScript','tbLocalScript','tbScrollHighlight','google','ThemifyGallery','Animation','$f','Froogaloop','SliderProSlide','SliderProUtils','ThemifySlider','FixedHeader','LayoutAndFilter','WOW','Waypoint','$slidernav','google','Microsoft','Rellax','module$contents$MapsEvent_MapsEvent','module$contents$mapsapi$overlay$OverlayView_OverlayView','wc_add_to_cart_params','woocommerce_params','wc_cart_fragments_params','wc_single_product_params','tf_mobile_menu_trigger_point','themifyMobileMenuTrigger'];for(let e=t.length-1;-1<e;--e)x[t[e]]&&(x[t[e]]=null);x.wp.emoji=null,x.ajaxurl=themify_vars.ajax_url;for(let e=o.querySelectorAll('[data-lazy]'),t=e.length-1;-1<t;--t)e[t].removeAttribute('data-lazy');r=s=o=w.editorLoaded=null},5e3)},1e3)},800)})},!0),w.on('tb_load_iframe',()=>{const e=()=>{r.themifyBuilder.post_ID=f;const t=o.parentNode.tfClass('themify_builder_content-'+f)[0];if(t){const i=L.tfClass('themify_builder_content-'+f);if(1<i.length)for(let e=i.length-1;-1<e;--e)if(i[e]===t){r.themifyBuilder.builderIndex=e;break}}(s=r.Themify).trigger('builderiframeloaded',this)};if('__rocketLoaderLoadProgressSimulator'in r){const t=setInterval(()=>{'complete'===r.__rocketLoaderLoadProgressSimulator.simulatedReadyState&&(clearInterval(t),e())},10)}else e()},!0,w.editorLoaded)},{once:!0,passive:!0}),h.appendChild(m),l.then(()=>{y.setTime(y.getTime()+3e3),L.cookie='tb_active='+f+';expires='+y.toUTCString()+';SameSite=strict;path='+g,h.appendChild(b),setTimeout(()=>{L.cookie='tb_active=;path='+g+';Expires=Thu, 01 Jan 1970 00:00:01 GMT;'},600)})}}};if(L.body.dataset.tbAttached=1,L.body.tfOn(w.click,v),!L.body.classList.contains('tb_restriction')&&-1===x.location.href.indexOf('tb-id')&&'#builder_active'===x.location.hash){const e=L.querySelector('.toggle_tb_builder > a');e&&w.triggerEvent(e,w.click),x.location.hash=''}}};w.on('tf_init',e,!0,x.loaded).on('tf_music_ajax_ready',e)})(Themify,window,document);