'use strict';((k,b)=>{let m=!1;const n=ThemifyBuilderModuleJs.cssUrl+"accordion_styles/",r=()=>{b.body.off("click.tb_accordeon").on("click.tb_accordeon",".accordion-title",function(a){a.preventDefault();a.stopPropagation();var c=k(this);const f=c.next();var d=c.closest("li"),g=d.parent();c=g[0].parentNode.hasAttribute("data-hashtag");var e=d.find(">.accordion-title .accordion-active-icon"),h=d.find(">.accordion-title .accordion-icon");const q=g.closest(".module-accordion[data-behavior]").data("behavior"),
l=d.toggleClass("current").siblings().removeClass("current");g.hasClass("tf-init-accordion")||g.addClass("tf-init-accordion");"accordion"===q&&(l.find(".accordion-content").slideUp().closest("li").removeClass("builder-accordion-active"),l.find(".accordion-title > a").attr("aria-expanded","false"),l.find(">.accordion-title .accordion-icon").removeClass("tf_hide").end().find(">.accordion-title .accordion-active-icon").addClass("tf_hide"));if(d.hasClass("builder-accordion-active"))e.addClass("tf_hide"),
h.removeClass("tf_hide"),f.slideUp(),d.removeClass("builder-accordion-active").find(">.accordion-title > a").attr("aria-expanded","false"),f.attr("aria-hidden","true"),!0===c&&window.location.hash===a.target.closest("a").getAttribute("href")&&(window.history&&window.history.pushState?window.history.pushState("","",window.location.pathname):window.location.href=window.location.href.replace(/#.*$/,"#"));else{e.removeClass("tf_hide");h.addClass("tf_hide");d.addClass("builder-accordion-active");f.slideDown();
d.find(">.accordion-title > a").attr("aria-expanded","true");f.attr("aria-hidden","false");if(d=f.hasClass("default-closed")?f.find(".themify_map"):!1)for(g=d.length-1;-1<g;--g)e=k(d[g]).data("gmap_object"),"undefined"===typeof e.already_centered||e.already_centered||(e.already_centered=!1),e.already_centered||(h=e.getCenter(),google.maps.event.trigger(e,"resize"),e.setCenter(h),e.already_centered=!0);!0===c&&(window.history&&window.history.pushState?window.history.pushState(null,null,a.target.closest("a").getAttribute("href")):
window.location.href=a.target.closest("a").getAttribute("href"))}b.trigger("tb_accordion_switch",[f]);k(window).triggerHandler("resize")})},p=()=>{const a=window.location.hash.replace("#","");""!==a&&"#"!==a&&document.querySelector('.module-accordion [data-id="'+a+'"]')&&document.querySelector('.accordion-title a[href="#'+a+'"]').click()};b.on("builder_load_module_partial",(a,c,f)=>{if(!0!==f||a[0].classList.contains("module-accordion")){a=b.selectWithParent("module-accordion",a);for(c=a.length-1;-1<
c;--c)!b.cssLazy.tb_accordion_separate&&a[c].classList.contains("separate")&&(b.cssLazy.tb_accordion_separate=!0,b.LoadCss(n+"separate.css")),!b.cssLazy.tb_accordion_transparent&&a[c].classList.contains("transparent")&&(b.cssLazy.tb_accordion_transparent=!0,b.LoadCss(n+"transparent.css"));if(!0!==f||!1===m)b.requestIdleCallback(r,50),window.addEventListener("hashchange",p,{passive:!0}),b.requestIdleCallback(p,51),m=!0}})})(jQuery,Themify);
