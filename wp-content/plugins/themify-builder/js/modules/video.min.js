'use strict';(g=>{const m=ThemifyBuilderModuleJs.cssUrl+"video_styles/",u=d=>{d=g.selectWithParent("module-video",d);for(let k=d.length-1;-1<k;--k){let b=d[k];var a=b.getAttribute("data-url"),c=b.getElementsByClassName("tb_video_overlay")[0];if(a){!g.cssLazy.tb_video_overlay&&b.classList.contains("video-overlay")&&(g.cssLazy.tb_video_overlay=!0,g.LoadCss(m+"overlay.css"));if(c)g.cssLazy.tb_video_play_button||(g.cssLazy.tb_video_play_button=!0,g.LoadCss(m+"play_button.css")),c.addEventListener("click",
v,{once:!0});else{c=g.parseVideo(a);let n=b.getElementsByClassName("video-wrap")[0],e,l=b.hasAttribute("data-auto"),p=l&&!b.hasAttribute("data-clicked")?!0:b.hasAttribute("data-muted");if(null===n.querySelector("iframe,video")){if("youtube"===c.type||"vimeo"===c.type){var f=void 0;f=b.hasAttribute("data-start")?b.dataset.start:!1;let q=b.hasAttribute("data-end")?b.dataset.end:!1;e=document.createElement("iframe");const h=(a=a.split("?")[1])?new URLSearchParams(a):!1;if("youtube"===c.type){a="https://www.youtube"+
(b.hasAttribute("data-privacy")?"-nocookie":"")+".com/embed/"+c.id+"?autohide=1&border=0&wmode=opaque&playsinline=1";if(!1!==h){const r=h.get("list"),t=h.get("rel");(f=f||h.get("t"))&&(a+="&start="+f);q&&(a+="&end="+q);r&&(a+="&list="+r);null!==t&&(a+="&rel="+t)}f="accelerometer;encrypted-media;gyroscope;picture-in-picture"}else a="https://player.vimeo.com/video/"+c.id+(f?"#t="+f+"s":"")+"?portrait=0&title=0&badge=0",c.h?a+="&h="+c.h:!1!==h&&(f=h.get("h"))&&(a+="&h="+f),f="fullscreen";p&&(a+="youtube"===
c.type?"&mute=1":"&muted=1");l&&(f+=";autoplay",a+="&autoplay=1");b.hasAttribute("data-hide-controls")&&(a+="&controls=0");b.hasAttribute("data-loop")&&(a+="&playlist="+c.id+"&loop=1");b.hasAttribute("data-branding")&&(f+=";modestbranding",a+="&modestbranding=1");e.setAttribute("allow",f);e.setAttribute("allowfullscreen","");e.setAttribute("src",a)}else e=document.createElement("video"),e.src=a,e.controls=!0,e.setAttribute("webkit-playsinline",1),e.setAttribute("playsinline",!0),l&&(e.autoplay=!0),
p&&(e.muted=!0);e.className="tf_abs tf_w tf_h";n.appendChild(e);"youtube"!==c.type&&"vimeo"!==c.type&&g.video([e])}}b.classList.remove("tf_lazy")}}},v=function(d){d.preventDefault();d.stopPropagation();d=this.closest(".module-video");d.setAttribute("data-auto",1);d.setAttribute("data-clicked",1);this.remove();u(d)};g.on("builder_load_module_partial",(d,a,c)=>{(!0!==c||d[0].classList.contains("module-video"))&&u(d)})})(Themify);
