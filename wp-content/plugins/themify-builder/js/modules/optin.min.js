'use strict';((m,g)=>{const p=e=>{const l=a=>{const c=new FormData(a),b=a.querySelector('[name="g-recaptcha-response"]');null!==b&&c.append("contact-recaptcha",b.value);m.ajax({url:a.getAttribute("action"),method:"POST",processData:!1,contentType:!1,cache:!1,data:c,success(d){d.success?"s1"===a.dataset.success?window.location.href=d.data.redirect:m(a).fadeOut().closest(".module").find(".tb_optin_success_message").fadeIn():window.console&&console.log(d.data.error)},complete(){a.classList.remove("processing");
"object"===typeof grecaptcha&&"v2"===a.find(".themify_captcha_field").data("ver")&&grecaptcha.reset()}})},k=a=>{g.is_builder_active||a.addEventListener("submit",function(c){c.preventDefault();const b=this;if(b.classList.contains("processing"))return!1;b.className+=" processing";const d=a.getElementsByClassName("themify_captcha_field")[0];d&&"v3"===d.dataset.ver&&"undefined"!==typeof grecaptcha?grecaptcha.ready(()=>{grecaptcha.execute(d.dataset.sitekey,{action:"captcha"}).then(n=>{const h=document.createElement("input");
h.type="hidden";h.name="g-recaptcha-response";h.value=n;b.insertBefore(h,b.firstChild);l(b)})}):l(b)})},f=e.getElementsByClassName("themify_captcha_field")[0];if(f&&"undefined"===typeof grecaptcha){const a=f.getAttribute("data-sitekey");if(a){let c="https://www.google.com/recaptcha/api.js";"v3"===f.getAttribute("data-ver")&&(c+="?render="+a);g.LoadAsync(c,()=>{k(e)},!1,!0,()=>"undefined"!==typeof grecaptcha)}}else k(e)};g.on("builder_load_module_partial",(e,l,k)=>{if(!0!==k||e[0].classList.contains("module-optin")){var f=
g.selectWithParent("tb_optin_form",e);f[0]&&g.requestIdleCallback(()=>{p(f[0])},300)}})})(jQuery,Themify);
